{"id":"PCTX-1qa","title":"Add tests for stdio config and modes","description":"Add/update tests covering stdio config parsing, add-stdio command, stdio server mode, and HTTP-mode warning.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T09:21:22.955463627+07:00","updated_at":"2025-12-19T09:54:06.990928666+07:00","closed_at":"2025-12-19T09:54:06.990928666+07:00","close_reason":"Done","labels":["tests"],"dependencies":[{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:58.930063362+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:36.269341347+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-kil","type":"blocks","created_at":"2025-12-19T09:22:39.656809769+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-4dp","type":"blocks","created_at":"2025-12-19T09:22:45.797450622+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-w9f","type":"blocks","created_at":"2025-12-19T09:22:50.143531068+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-1qa","depends_on_id":"PCTX-i38","type":"blocks","created_at":"2025-12-19T09:22:54.349710042+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-3ao","title":"Update docs for stdio config and CLI","description":"Document stdio upstream config fields, `pctx mcp add-stdio`, and `--stdio` server mode in docs.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T09:21:18.293310542+07:00","updated_at":"2025-12-19T09:53:56.732570885+07:00","closed_at":"2025-12-19T09:53:56.732570885+07:00","close_reason":"Done","labels":["docs"],"dependencies":[{"issue_id":"PCTX-3ao","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:55.27912673+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-3ao","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:26.731229922+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-3ao","depends_on_id":"PCTX-kil","type":"blocks","created_at":"2025-12-19T09:22:29.749394242+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-3ao","depends_on_id":"PCTX-w9f","type":"blocks","created_at":"2025-12-19T09:22:33.236963402+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-4dp","title":"Implement stdio upstream connections in code mode","description":"Use rmcp stdio client transport to connect to stdio upstream servers in code-mode registry; pass env values literally.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T09:21:05.842646355+07:00","updated_at":"2025-12-19T09:42:25.716668507+07:00","closed_at":"2025-12-19T09:42:25.716668507+07:00","close_reason":"Done","labels":["runtime","stdio"],"dependencies":[{"issue_id":"PCTX-4dp","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:44.502134536+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-4dp","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:09.687836234+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-5","title":"Investigate hanging stdio shutdown test","description":"Repro: cargo test -p pctx_mcp_server server::tests::test_serve_stdio_with_immediate_shutdown hangs \u003e60s. Determine root cause or add timeout/fixture cleanup.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T09:08:10.45525013+07:00","updated_at":"2025-12-24T09:14:55.473939638+07:00","closed_at":"2025-12-24T09:14:46.934264189+07:00"}
{"id":"PCTX-c1j","title":"Add stdio MCP support for upstreams and server mode","description":"Deliver stdio MCP transport support end-to-end: config schema, CLI registration, stdio server mode for start/dev, warnings for stdio upstreams in HTTP mode, docs, and tests.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-19T09:20:51.890073006+07:00","updated_at":"2025-12-19T09:54:16.298574894+07:00","closed_at":"2025-12-19T09:54:16.298574894+07:00","close_reason":"Done","labels":["mcp","stdio"]}
{"id":"PCTX-c70","title":"Define stdio upstream server config schema","description":"Extend pctx config model to represent stdio upstream MCP servers (command, args, env) alongside existing HTTP config; ensure serialization/deserialization.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T09:20:55.792537564+07:00","updated_at":"2025-12-19T09:39:04.21049577+07:00","closed_at":"2025-12-19T09:39:04.21049577+07:00","close_reason":"Done","labels":["config","stdio"],"dependencies":[{"issue_id":"PCTX-c70","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:35.247396215+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-een","title":"Parallelize MCP initialization and boot logging","description":"Initialize MCP servers in parallel across CLI start, dev reload, and session registration. Split MCP init into parallel build + serial insert, and log per-server durations and failures (name, target, error, stack).","acceptance_criteria":"- MCP init runs in parallel for CLI start, dev reload, and session registration.\\n- Per-server init logs include full add_server duration.\\n- Warn-level failure logs include server name, target, error string, and debug stack output.\\n- Behavior continues on failure.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-05T08:53:41.301949013+07:00","created_by":"mark","updated_at":"2026-01-05T08:53:41.301949013+07:00"}
{"id":"PCTX-een.1","title":"Create parallel MCP build helper with timing + failure logging","description":"Refactor CodeMode MCP initialization into a build phase that performs the full add_server flow (connect, list tools, parse schemas) without mutating CodeMode, capturing per-server duration and logging failures with name, target, error string, and debug stack.","acceptance_criteria":"- Implements a build helper that covers the full add_server flow.\\n- Logs per-server duration for success and failure.\\n- Warn logs include server name, target, error string, and debug stack output.\\n- References requirement: Per-server boot logging; scenarios: Initialization failure, Initialization duration on failure, Initialization duration.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T08:53:52.681743165+07:00","created_by":"mark","updated_at":"2026-01-05T09:07:27.135400873+07:00","closed_at":"2026-01-05T09:07:27.135400873+07:00","close_reason":"Closed","dependencies":[{"issue_id":"PCTX-een.1","depends_on_id":"PCTX-een","type":"parent-child","created_at":"2026-01-05T08:53:52.721960942+07:00","created_by":"mark"}]}
{"id":"PCTX-een.2","title":"Parallelize CLI start + dev reload MCP initialization","description":"Use the parallel build helper to initialize MCP servers concurrently in CLI start and dev mode reload paths, then serially insert results into CodeMode.","acceptance_criteria":"- CLI start initializes configured MCP servers concurrently.\\n- Dev reload path initializes configured MCP servers concurrently.\\n- Continues on failure with logged warnings.\\n- References requirement: Parallel MCP initialization; scenario: Startup with multiple configured servers.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T08:53:56.64102963+07:00","created_by":"mark","updated_at":"2026-01-05T08:53:56.64102963+07:00","dependencies":[{"issue_id":"PCTX-een.2","depends_on_id":"PCTX-een","type":"parent-child","created_at":"2026-01-05T08:53:56.660830035+07:00","created_by":"mark"},{"issue_id":"PCTX-een.2","depends_on_id":"PCTX-een.1","type":"blocks","created_at":"2026-01-05T08:53:56.669698332+07:00","created_by":"mark"}]}
{"id":"PCTX-een.3","title":"Parallelize session registration MCP initialization","description":"Use the parallel build helper to initialize MCP servers concurrently in the session registration API, then serially insert results into CodeMode and return success/failure summary.","acceptance_criteria":"- Session registration initializes MCP servers concurrently.\\n- Continues on failure with logged warnings.\\n- References requirement: Parallel MCP initialization; scenario: Session server registration.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T08:54:00.658322088+07:00","created_by":"mark","updated_at":"2026-01-05T08:54:00.658322088+07:00","dependencies":[{"issue_id":"PCTX-een.3","depends_on_id":"PCTX-een","type":"parent-child","created_at":"2026-01-05T08:54:00.668791528+07:00","created_by":"mark"},{"issue_id":"PCTX-een.3","depends_on_id":"PCTX-een.1","type":"blocks","created_at":"2026-01-05T08:54:00.675291459+07:00","created_by":"mark"}]}
{"id":"PCTX-een.4","title":"Validate parallel MCP initialization behavior","description":"Run or document validation that parallel MCP init and per-server logging occur across CLI start, dev reload, and session registration.","acceptance_criteria":"- Validation steps executed or documented.\\n- Confirms per-server duration logging for success and failure.\\n- Confirms warn logs include server name, target, error string, and debug stack.\\n- References requirements: Parallel MCP initialization; Per-server boot logging.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T08:54:06.315399135+07:00","created_by":"mark","updated_at":"2026-01-05T08:54:06.315399135+07:00","dependencies":[{"issue_id":"PCTX-een.4","depends_on_id":"PCTX-een","type":"parent-child","created_at":"2026-01-05T08:54:06.357293602+07:00","created_by":"mark"},{"issue_id":"PCTX-een.4","depends_on_id":"PCTX-een.2","type":"blocks","created_at":"2026-01-05T08:54:06.370138037+07:00","created_by":"mark"},{"issue_id":"PCTX-een.4","depends_on_id":"PCTX-een.3","type":"blocks","created_at":"2026-01-05T08:54:06.376562786+07:00","created_by":"mark"}]}
{"id":"PCTX-i38","title":"Warn when HTTP mode used with stdio upstreams","description":"Emit warning on `pctx mcp start`/`dev` in HTTP mode when config contains stdio upstream servers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T09:21:14.894813434+07:00","updated_at":"2025-12-19T09:49:45.97233487+07:00","closed_at":"2025-12-19T09:49:45.97233487+07:00","close_reason":"Done","labels":["cli","stdio"],"dependencies":[{"issue_id":"PCTX-i38","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:52.330748178+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-i38","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:17.179856334+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-i38","depends_on_id":"PCTX-w9f","type":"blocks","created_at":"2025-12-19T09:22:22.038520144+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-kil","title":"Add CLI support for stdio upstream servers","description":"Add `pctx mcp add-stdio` command mirroring HTTP add flow; accept name, command, optional args/env and save into config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T09:21:02.026044483+07:00","updated_at":"2025-12-19T09:49:04.590153998+07:00","closed_at":"2025-12-19T09:49:04.590153998+07:00","close_reason":"Done","labels":["cli","stdio"],"dependencies":[{"issue_id":"PCTX-kil","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:38.500553783+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-kil","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:04.524416578+07:00","created_by":"daemon","metadata":"{}"}]}
{"id":"PCTX-w9f","title":"Add stdio server mode for start/dev","description":"Add `--stdio` option to `pctx mcp start` and `pctx mcp dev` to serve MCP over stdio instead of HTTP.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T09:21:11.106219821+07:00","updated_at":"2025-12-19T09:47:02.681062871+07:00","closed_at":"2025-12-19T09:47:02.681062871+07:00","close_reason":"Done","labels":["server","stdio"],"dependencies":[{"issue_id":"PCTX-w9f","depends_on_id":"PCTX-c1j","type":"parent-child","created_at":"2025-12-19T09:21:49.132240579+07:00","created_by":"daemon","metadata":"{}"},{"issue_id":"PCTX-w9f","depends_on_id":"PCTX-c70","type":"blocks","created_at":"2025-12-19T09:22:12.614839822+07:00","created_by":"daemon","metadata":"{}"}]}
